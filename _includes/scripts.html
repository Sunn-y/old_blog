<script src="https://kit.fontawesome.com/a076d05399.js"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script type="text/javascript">
	function show_nav() {
		let now_width = $(window).innerWidth();
		if (now_width >= 1200) {
			$("main").css("width", now_width - $('nav').css('width'));
			$("nav").show();
		} else {
			$("nav").show();
		}
	};

	function hide_nav() {
		$("nav").hide();
		$("main").css("width", "100vw");
	};

	//
	$(document).ready(function() {
		//set
		show_nav();
		$(".sub_menu").hide();

		let now_width = $(window).innerWidth();
		if (now_width >= 1200) {
			$("main").css("width", now_width - $('nav').css('width'));
			$("nav").show();
		} else {
			$("main").css("width", now_width);
		}

		$('.up_btn').click(function() {
			$('html, body').animate({
				scrollTop: 0
			}, 400);
			return false;
		});

		$(".nav_toggle").click(function() {
			if ($("nav").is(":visible") != true) {
				show_nav();
			} else {
				hide_nav();
			}
		});
		$(".center_container").click(function() {
			if ($(window).innerWidth() < 1200) {
				hide_nav();
			};
		});

		// event
		$(window).resize(function() {
			if ($(window).innerWidth() >= 1200) {
				show_nav();
			} else {
				hide_nav();
			}
		});
		$(".menu>li").click(function() {
			$(".sub_menu").slideUp();
			if ($(this).find(".sub_menu").length == 1) {
				if ($(this).children(".sub_menu").is(":visible") != true) {
					$(this).children(".sub_menu").slideDown();
				} else {
					$(this).children(".sub_menu").slideUp();
				}
			}
		});

		let now_path = $(location).attr('pathname').toUpperCase().replaceAll('/', '');
		let active_page = '';
		$(".menu>li>ul>li").find("a").each(function(index, item) {
			if (now_path == $(item).text().replace('- ', '')) {
				active_page = $(item).text().replace('- ', '');
			}
		});
		$(".sub_menu").hide();
		if (now_path == active_page) {
			let class_name = '';
			class_name = '.'.concat(now_path);
			$(class_name).parent().show();
		}

		$(".drop_btn").click(function() {
			if ($(this).text() == '▼') {
				$(this).parent().css('z-index', '2');
				$(this).siblings('div').slideDown();
				$(this).text('▲');
			} else {
				$(this).siblings('div').slideUp();
				$(this).text('▼');
			}
		});
	});
</script>